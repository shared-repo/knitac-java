<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">    
    <title>Document Object</title>
    <style type="text/css">
        table { width: 700px; height: 95px; margin: 0 auto; }
        #canvas { width: 700px; height: 500px; border: solid 1px black; margin: 0 auto; }
        td { border: solid 1px black; }
    </style>
</head>
<body>
    <table>
        <tr>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
        </tr>
    </table>
    <hr>
    <div id="canvas"></div>

    <script type="text/javascript">
        // 1. td에 순서대로 red, orange, yellow, green, blue, purple, navy 색상으로 배경색 지정
        var colors = ['red', 'orange', 'yellow', 'green', 'blue', 'purple', 'navy'];
        var tds = document.querySelectorAll("td"); // 모든 td를 찾기 ( 배열로 반환 )
        for (var i = 0; i < tds.length; i++) {            
            tds[i].style.backgroundColor = colors[i];
        }

        // td를 클릭하면 클릭된 td의 배경색을 canvas에 적용
        var canvas = document.querySelector('#canvas');
        for (var i = 0; i < tds.length; i++) { 
            tds[i].addEventListener('click', function(event) {
                // 이벤트 처리기는 나중에 실행되기 때문에 현재의 i 값을 사용할 수 없습니다.
                //canvas.style.backgroundColor = tds[i].style.backgroundColor;

                // 이벤트 처리기 함수의 event 전달인자는 event 발생과 관련된 정보를 저장                
                var td = event.target; // 현재 이벤트가 발생한 객체 ( 여기서는 클릭된 td )
                canvas.style.backgroundColor = td.style.backgroundColor;
            });

        }
        // i == 7 이 코드가 실행되는 순서 ( 먼저 실행 )

    </script>
</body>
</html>